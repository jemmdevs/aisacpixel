---
/**
 * Button - Reusable button component with hover animation
 * Features slide-up text effect on hover
 */
interface Props {
    href: string;
    label: string;
    ariaLabel?: string;
    class?: string;
}

const { href, label, ariaLabel = label, class: className = "" } = Astro.props;
---

<a href={href} class={`btn ${className}`} aria-label={ariaLabel}>
    <span class="bg">
        <span class="fill"></span>
    </span>
    <span class="text-wrap">
        <span class="basic">{label}</span>
        <span class="hover">{label}</span>
    </span>
</a>

<style>
    .btn {
        position: relative;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        background: none !important;
        cursor: pointer;
    }

    /* White background layer with mask */
    .btn .bg {
        position: absolute;
        inset: 0;
        background-color: var(--c-white);
        mask-image: url(/r18.svg);
        -webkit-mask-image: url(/r18.svg);
        mask-size: 100% 100%;
        -webkit-mask-size: 100% 100%;
        mask-repeat: no-repeat;
        -webkit-mask-repeat: no-repeat;
        overflow: hidden;
    }

    /* Black fill layer - slides up from bottom on hover */
    .btn .fill {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: var(--c-black);
        mask-image: url(/r18.svg);
        -webkit-mask-image: url(/r18.svg);
        mask-size: 100% 100%;
        -webkit-mask-size: 100% 100%;
        mask-repeat: no-repeat;
        -webkit-mask-repeat: no-repeat;
        transform: translateY(100%);
        transition: transform 0.5s var(--f-cubic);
    }

    /* Text wrapper - contains both texts, clips overflow */
    .btn .text-wrap {
        position: relative;
        overflow: hidden;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    /* Base text styles */
    .btn .basic,
    .btn .hover {
        padding: calc(var(--g-gap) * 4) calc(var(--g-gap) * 5);
        font-size: var(--m);
        transition: transform 0.5s var(--f-cubic);
    }

    /* Basic text - visible initially */
    .btn .basic {
        color: var(--c-black);
    }

    /* Hover text - hidden below */
    .btn .hover {
        color: var(--c-white);
        position: absolute;
        left: 0;
        top: 0;
        transform: translateY(100%);
    }

    /* Hover states - desktop only */
    @media (min-width: 1024px) {
        .btn:hover .fill {
            transform: translateY(0);
        }

        .btn:hover .basic {
            transform: translateY(-100%);
        }

        .btn:hover .hover {
            transform: translateY(0);
        }
    }
</style>
